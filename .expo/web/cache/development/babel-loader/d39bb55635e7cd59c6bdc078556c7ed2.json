{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"containerStyle\", \"otpStyles\", \"codeCount\", \"onTyping\", \"onFinish\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useState, useRef, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport { ScrollView, TouchableWithoutFeedback } from \"react-native-gesture-handler\";\nimport { COLORS } from \"../constants/theme\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar width = Dimensions.get(\"window\").width;\nvar height = Dimensions.get(\"window\").height;\nvar initCodes = [];\nexport default function OTP(_ref) {\n  var containerStyle = _ref.containerStyle,\n    otpStyles = _ref.otpStyles,\n    _ref$codeCount = _ref.codeCount,\n    codeCount = _ref$codeCount === void 0 ? 5 : _ref$codeCount,\n    onTyping = _ref.onTyping,\n    onFinish = _ref.onFinish,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var inputCodeRef = useRef(new Array());\n  var _useState = useState(initCodes),\n    _useState2 = _slicedToArray(_useState, 2),\n    codes = _useState2[0],\n    setCodes = _useState2[1];\n  useEffect(function () {\n    var codes = [];\n    for (var i = 0; i < codeCount; i++) {\n      codes.push(\"\");\n    }\n    setCodes(codes);\n  }, []);\n  useEffect(function () {\n    onTyping && onTyping(getCodes());\n    var isTypeFinish = codes.every(function (i) {\n      return i !== \"\";\n    });\n    if (isTypeFinish) {\n      onFinish && onFinish(getCodes());\n    }\n  }, [codes]);\n  var getCodes = function getCodes() {\n    var codeString = \"\";\n    codes.forEach(function (code) {\n      codeString += code;\n    });\n    return {\n      \"token\": codeString\n    };\n  };\n  var onChangeCode = function onChangeCode(code, index) {\n    var typedCode = code.slice(-1);\n    var currentCodes = _toConsumableArray(codes);\n    currentCodes[index] = typedCode;\n    setCodes(currentCodes);\n  };\n  var _onKeyPress = function onKeyPress(event, index) {\n    var key = event.nativeEvent.key;\n    var destIndex = index;\n    if (key === \"Backspace\") {\n      destIndex = index > 0 ? index - 1 : 0;\n    } else {\n      destIndex = index < codeCount - 1 ? index + 1 : codeCount - 1;\n    }\n    inputCodeRef.current[destIndex].focus();\n  };\n  return _jsx(View, {\n    style: [styles.form, containerStyle],\n    children: codes.map(function (code, index) {\n      return _jsx(TextInput, _objectSpread({\n        maxLength: 1,\n        selectionColor: \"blue\",\n        ref: function ref(element) {\n          return inputCodeRef.current.push(element);\n        },\n        style: [styles.input, otpStyles, {\n          width: width / (codeCount + 3),\n          height: height / 14\n        }],\n        onChangeText: function onChangeText(text) {\n          return onChangeCode(text, index);\n        },\n        onKeyPress: function onKeyPress(event) {\n          return _onKeyPress(event, index);\n        },\n        value: code\n      }, props), \"\" + index);\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  form: {\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"flex-start\"\n  },\n  input: {\n    marginHorizontal: 4,\n    fontSize: 32,\n    textAlign: \"center\",\n    backgroundColor: \"#fff\",\n    borderBottomWidth: 1.5,\n    borderBottomColor: COLORS.onboarding,\n    fontFamily: \"Poppins\",\n    color: COLORS.onboarding\n  }\n});","map":{"version":3,"names":["React","useState","useRef","useEffect","View","TextInput","Dimensions","StyleSheet","KeyboardAvoidingView","ScrollView","TouchableWithoutFeedback","COLORS","jsx","_jsx","width","get","height","initCodes","OTP","_ref","containerStyle","otpStyles","_ref$codeCount","codeCount","onTyping","onFinish","props","_objectWithoutProperties","_excluded","inputCodeRef","Array","_useState","_useState2","_slicedToArray","codes","setCodes","i","push","getCodes","isTypeFinish","every","codeString","forEach","code","onChangeCode","index","typedCode","slice","currentCodes","_toConsumableArray","onKeyPress","event","key","nativeEvent","destIndex","current","focus","style","styles","form","children","map","_objectSpread","maxLength","selectionColor","ref","element","input","onChangeText","text","value","create","flexDirection","justifyContent","alignItems","marginHorizontal","fontSize","textAlign","backgroundColor","borderBottomWidth","borderBottomColor","onboarding","fontFamily","color"],"sources":["C:/Users/STEPHEN/Desktop/busa_app1-main/Components/otp.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { View, TextInput, Dimensions, StyleSheet, KeyboardAvoidingView } from \"react-native\";\r\nimport { ScrollView, TouchableWithoutFeedback } from \"react-native-gesture-handler\";\r\nimport { COLORS } from \"../constants/theme\";\r\n\r\nconst width = Dimensions.get(\"window\").width;\r\nconst height = Dimensions.get(\"window\").height;\r\n\r\nconst initCodes = [];\r\nexport default function OTP({\r\n\tcontainerStyle,\r\n\totpStyles,\r\n\tcodeCount = 5,\r\n\tonTyping,\r\n\tonFinish,\r\n\t...props\r\n}) {\r\n\tconst inputCodeRef = useRef(new Array());\r\n\tconst [codes, setCodes] = useState(initCodes);\r\n\tuseEffect(() => {\r\n\t\tconst codes = [];\r\n\t\tfor (let i = 0; i < codeCount; i++) {\r\n\t\t\tcodes.push(\"\");\r\n\t\t}\r\n\t\tsetCodes(codes);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tonTyping && onTyping(getCodes());\r\n\t\tconst isTypeFinish = codes.every(function (i) {\r\n\t\t\treturn i !== \"\";\r\n\t\t});\r\n\t\tif (isTypeFinish) {\r\n\t\t\tonFinish && onFinish(getCodes());\r\n\t\t}\r\n\t}, [codes]);\r\n\r\n\tconst getCodes = () => {\r\n\t\tlet codeString = \"\";\r\n\t\tcodes.forEach((code) => {\r\n\t\t\tcodeString += code;\r\n\t\t});\r\n\t\treturn {\"token\" : codeString};\r\n\t};\r\n\r\n\tconst onChangeCode = (code, index) => {\r\n\t\tconst typedCode = code.slice(-1);\r\n\t\tconst currentCodes = [...codes];\r\n\t\tcurrentCodes[index] = typedCode;\r\n\t\tsetCodes(currentCodes);\r\n\t};\r\n\tconst onKeyPress = (event, index) => {\r\n\t\tconst key = event.nativeEvent.key;\r\n\t\tlet destIndex = index;\r\n\t\tif (key === \"Backspace\") {\r\n\t\t\tdestIndex = index > 0 ? index - 1 : 0;\r\n\t\t} else {\r\n\t\t\tdestIndex = index < codeCount - 1 ? index + 1 : codeCount - 1;\r\n\t\t}\r\n\t\tinputCodeRef.current[destIndex].focus();\r\n\t};\r\n\treturn (\r\n\t\t<View style={[styles.form, containerStyle]}>\r\n\t\t\t{codes.map((code, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<TextInput\r\n\t\t\t\t\t\tmaxLength={1}\r\n\t\t\t\t\t\t// cursorColor=\"blue\"\r\n\t\t\t\t\t\tselectionColor={\"blue\"}\r\n\t\t\t\t\t\tkey={`${index}`}\r\n\t\t\t\t\t\tref={(element) => inputCodeRef.current.push(element)}\r\n\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\tstyles.input,\r\n\t\t\t\t\t\t\totpStyles,\r\n\t\t\t\t\t\t\t{ width: width / (codeCount + 3), height: height / 14 },\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tonChangeText={(text) => onChangeCode(text, index)}\r\n\t\t\t\t\t\tonKeyPress={(event) => onKeyPress(event, index)}\r\n\t\t\t\t\t\tvalue={code}\r\n\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</View>\r\n\t);\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n\tform: {\r\n\t\tflexDirection: \"row\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"flex-start\",\r\n\t},\r\n\tinput: {\r\n\t\tmarginHorizontal: 4,\r\n\t\tfontSize: 32,\r\n\t\ttextAlign: \"center\",\r\n\t\tbackgroundColor: \"#fff\",\r\n\t\tborderBottomWidth: 1.5,\r\n\t\tborderBottomColor: COLORS.onboarding,\r\n\t\tfontFamily:\"Poppins\",\r\n\t\tcolor:COLORS.onboarding\r\n\t},\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}